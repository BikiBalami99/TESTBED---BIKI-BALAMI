/* macOS Operating System - Master Container */

.os {
	position: relative;
	width: 100vw;
	height: 100vh;
	overflow: hidden;
	background: #1a1a1a; /* Fallback dark background */
}

/* Background Image Layer */
.backgroundImage {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	z-index: 0;
}

/* Overlay for background crossfade */
.backgroundOverlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	opacity: 0;
	transition: opacity 300ms ease;
	z-index: 0; /* Same layer as background */
}

.backgroundOverlay.show {
	opacity: 1;
}

/* Layer 1: Desktop Background & Apps */
.desktopLayer {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 1;
	/* Desktop icons and background elements should be at z-index 1-10 */
}

/* Layer 2: Windows - Constrained between menu bar and dock */
.windowLayer {
	position: absolute;
	top: 24px; /* Menu bar height */
	left: 0;
	right: 0;
	bottom: 80px; /* Dock height */
	z-index: 100;
	/* Windows start at z-index 100 and go up */
	pointer-events: none; /* Allow clicks to pass through to desktop when no windows */
}

.windowLayer > * {
	pointer-events: auto; /* Re-enable pointer events for actual windows */
}

/* Layer 3: System UI - Always on top */
.systemUILayer {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 10000;
	pointer-events: none; /* Allow clicks to pass through to windows */
}

.systemUILayer > * {
	pointer-events: auto; /* Re-enable pointer events for menu bar and dock */
}

/* Layered Architecture - macOS Style:
   Layer 1: Desktop (z-index: 1)
   Layer 2: Windows (z-index: 100, constrained between menu bar and dock)
   Layer 3: System UI (z-index: 10000) - Menu Bar and Dock always on top
*/

/* Responsive adjustments */
@media (max-width: 768px) {
	.os {
		/* Background image will automatically scale with cover */
	}
}
